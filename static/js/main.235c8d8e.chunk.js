(this.webpackJsonpGoFinances=this.webpackJsonpGoFinances||[]).push([[0],{35:function(e,n,t){e.exports=t.p+"static/media/income.df4567f0.svg"},36:function(e,n,t){e.exports=t.p+"static/media/outcome.bb31a5f3.svg"},37:function(e,n,t){e.exports=t.p+"static/media/total.7f99c5ac.svg"},42:function(e,n,t){e.exports=t.p+"static/media/logo.ce269cac.svg"},46:function(e,n,t){e.exports=t.p+"static/media/alert.78a343ae.svg"},49:function(e,n,t){e.exports=t(75)},75:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(34),o=t.n(c),l=t(10),i=t(9),u=t(14),s=t.n(u),m=t(48),p=t(17),f=t(12),d=t(35),b=t.n(d),g=t(36),x=t.n(g),E=t(37),h=t.n(E),v=t(38),j=t.n(v).a.create({baseURL:"http://localhost:3333"}),O=t(2),y=t(3);function w(){var e=Object(O.a)(["\n  background: #5636d3;\n  padding: 30px 0;\n\n  .activeLink {\n    border-bottom: 2px solid #ff872c;\n    padding-bottom: 10px;\n  }\n\n  header {\n    width: 1120px;\n    margin: 0 auto;\n    padding: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    nav {\n      a {\n        color: #fff;\n        text-decoration: none;\n        font-size: 16px;\n        transition: opacity 0.2s;\n\n        & + a {\n          margin-left: 32px;\n        }\n\n        &:hover {\n          opacity: 0.6;\n        }\n      }\n    }\n  }\n"]);return w=function(){return e},e}var k=y.c.div(w(),(function(e){return"small"===e.size?"0 20px ":"0 20px 150px"})),F=t(42),S=t.n(F),z=function(e){var n=e.size,t=void 0===n?"large":n;return(r.a.createElement(k,{size:t},r.a.createElement("header",null,r.a.createElement("img",{src:S.a,alt:"GoFinances"}),r.a.createElement("nav",null,r.a.createElement(l.b,{exact:!0,to:"/",activeClassName:"activeLink"},"Listagem"),r.a.createElement(l.b,{to:"/import",activeClassName:"activeLink"},"Importar")))))},I=t(18),D=t(13),C=function(e){var n=e.color,t=e.shadeValue;return(r.a.createElement(I.a,{speed:1,width:235,height:61,viewBox:"0 0 235 61",backgroundColor:n,foregroundColor:Object(D.a)(t,n)},r.a.createElement("rect",{x:"0",y:"20",rx:"8",ry:"8",width:"235",height:"42"})))};function G(){var e=Object(O.a)(["\n  height: 62px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n  border-radius: 8px;\n  margin-bottom: 8px;\n"]);return G=function(){return e},e}var N=y.c.div(G()),V=function(e){var n=e.color,t=e.shadeValue;return(r.a.createElement(N,null,r.a.createElement(I.a,{speed:1,width:1080,height:62,viewBox:"0 0 1080 62",backgroundColor:Object(D.a)(t,n),foregroundColor:n},r.a.createElement("rect",{x:"0",y:"0",rx:"8",ry:"8",width:"100%",height:"62px"}))))},R=function(e){return Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)},q=function(e){return Intl.DateTimeFormat("pt-BR").format(e)};function A(){var e=Object(O.a)(["\n  margin-top: 64px;\n\n  table {\n    width: 100%;\n    border-spacing: 0 8px;\n\n    th {\n      color: #969cb3;\n      font-weight: normal;\n      padding: 20px 32px;\n      text-align: left;\n      font-size: 16px;\n      line-height: 24px;\n    }\n\n    td {\n      padding: 20px 32px;\n      border: 0;\n      background: #fff;\n      font-size: 16px;\n      font-weight: normal;\n      color: #969cb3;\n\n      &.title {\n        color: #363f5f;\n      }\n\n      &.income {\n        color: #12a454;\n      }\n\n      &.outcome {\n        color: #e83f5b;\n      }\n    }\n\n    td:first-child {\n      border-radius: 8px 0 0 8px;\n    }\n\n    td:last-child {\n      border-radius: 0 8px 8px 0;\n    }\n  }\n"]);return A=function(){return e},e}function B(){var e=Object(O.a)(["\n  background: ",";\n  padding: 22px 32px;\n  border-radius: 5px;\n  color: ",";\n\n  header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n      font-size: 16px;\n    }\n  }\n\n  h1 {\n    margin-top: 14px;\n    font-size: 36px;\n    font-weight: normal;\n    line-height: 54px;\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(O.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n  margin-top: -150px;\n"]);return J=function(){return e},e}function L(){var e=Object(O.a)(["\n  font-size: 48px;\n  color: #3a3a3a;\n"]);return L=function(){return e},e}function P(){var e=Object(O.a)(["\n  width: 100%;\n  max-width: 1120px;\n  margin: 0 auto;\n  padding: 40px 20px;\n"]);return P=function(){return e},e}var T=y.c.div(P()),U=(y.c.h1(L()),y.c.section(J())),M=y.c.div(B(),(function(e){return e.total?"#FF872C":"#fff"}),(function(e){return e.total?"#fff":"#363F5F"})),_=y.c.section(A()),H=function(){var e=Object(a.useState)((function(){var e=localStorage.getItem("@GoFinances:transactions");return e?JSON.parse(e):[]})),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)((function(){var e=localStorage.getItem("@GoFinances:balance");return e?JSON.parse(e):{}})),l=Object(f.a)(o,2),i=l[0],u=l[1],d=Object(a.useState)(!0),g=Object(f.a)(d,2),E=g[0],v=g[1],O=Object(a.useState)((function(){return!!localStorage.getItem("@GoFinances:import")&&(v((function(e){return!e})),!0)})),y=Object(f.a)(O,2),w=y[0];y[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var n,t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("transactions");case 2:n=e.sent,t=n.data,a=t.transactions.map((function(e){return Object(m.a)({},e,{formattedValue:R(e.value)})})),r={income:R(t.balance.income),outcome:R(t.balance.outcome),total:R(t.balance.total)},c(a),u(r),localStorage.setItem("@GoFinances:balance",JSON.stringify(r)),localStorage.setItem("@GoFinances:transactions",JSON.stringify(a)),w||setTimeout((function(){v((function(e){return!e}))}),2e3),localStorage.removeItem("@GoFinances:import");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(T,null,r.a.createElement(U,null,r.a.createElement(M,null,r.a.createElement("header",null,r.a.createElement("p",null,"Entradas"),r.a.createElement("img",{src:b.a,alt:"Income"})),E?r.a.createElement(C,{color:"#f3f3f3",shadeValue:.03}):r.a.createElement("h1",{"data-testid":"balance-income"},i.income)),r.a.createElement(M,null,r.a.createElement("header",null,r.a.createElement("p",null,"Sa\xeddas"),r.a.createElement("img",{src:x.a,alt:"Outcome"})),E?r.a.createElement(C,{color:"#f3f3f3",shadeValue:.03}):r.a.createElement("h1",{"data-testid":"balance-income"},i.outcome)),r.a.createElement(M,{total:!0},r.a.createElement("header",null,r.a.createElement("p",null,"Total"),r.a.createElement("img",{src:h.a,alt:"Total"})),E?r.a.createElement(C,{color:"#ff872c",shadeValue:.1}):r.a.createElement("h1",{"data-testid":"balance-income"},i.total))),E?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Data"))))),[1,2,3,4,5,6,7,8].map((function(e){return r.a.createElement(V,{color:"#f3f3f3",shadeValue:.03})}))):r.a.createElement(_,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Data"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"title"},e.title),r.a.createElement("td",{className:e.type},"outcome"===e.type&&" - ",e.formattedValue),r.a.createElement("td",null,e.category.title),r.a.createElement("td",null,q(new Date(e.created_at))))})))))))},K=t(44),Q=t.n(K);function W(){var e=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n\n  button {\n    border: 0;\n    background: transparent;\n    color: #e83f5b;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n    }\n  }\n"]);return W=function(){return e},e}function X(){var e=Object(O.a)(["\n  margin-top: 20px;\n\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #444;\n\n    & + li {\n      margin-top: 15px;\n    }\n  }\n"]);return X=function(){return e},e}var Y=y.c.ul(X()),Z=y.c.div(W()),$=function(e){var n=e.files;return(r.a.createElement(Y,null,n.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement(Z,null,r.a.createElement("div",null,r.a.createElement("strong",null,e.name),r.a.createElement("span",null,e.readableSize))))}))))},ee=t(47);function ne(){var e=Object(O.a)(["\n  display: flex;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 48px 0;\n\n  color: ",";\n\n  justify-content: center;\n  align-items: center;\n"]);return ne=function(){return e},e}function te(){var e=Object(O.a)(["\n  border: 1.5px dashed #969cb3;\n  border-radius: 5px;\n  cursor: pointer;\n\n  transition: height 0.2s ease;\n\n  ","\n\n  ","\n"]);return te=function(){return e},e}function ae(){var e=Object(O.a)(["\n  border-color: #e83f5b;\n"]);return ae=function(){return e},e}function re(){var e=Object(O.a)(["\n  border-color: #12a454;\n"]);return re=function(){return e},e}var ce=Object(y.b)(re()),oe=Object(y.b)(ae()),le=y.c.div.attrs({className:"dropzone"})(te(),(function(e){return e.isDragActive&&ce}),(function(e){return e.isDragReject&&oe})),ie={default:"#5636D3",error:"#e83f5b",success:"#12a454"},ue=y.c.p(ne(),(function(e){var n=e.type;return ie[n||"default"]})),se=function(e){var n=e.onUpload;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{accept:".csv, application/vnd.ms-excel, text/csv",onDropAccepted:function(e){return n(e)}},(function(e){var n=e.getRootProps,t=e.getInputProps,a=e.isDragActive,c=e.isDragReject;return(r.a.createElement(le,Object.assign({},n(),{isDragActive:a,isDragReject:c}),r.a.createElement("input",Object.assign({},t(),{"data-testid":"upload"})),function(e,n){return e?n?r.a.createElement(ue,{type:"error"},"Arquivo n\xe3o suportado"):r.a.createElement(ue,{type:"success"},"Solte o arquivo aqui"):r.a.createElement(ue,null,"Selecione ou arraste o arquivo aqui.")}(a,c)))})))};function me(){var e=Object(O.a)(["\n  margin-top: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  p {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    line-height: 18px;\n    color: #969cb3;\n\n    img {\n      margin-right: 5px;\n    }\n  }\n\n  button {\n    background: #ff872c;\n    color: #fff;\n    border-radius: 5px;\n    padding: 15px 80px;\n    border: 0;\n    transition: background-color 0.2s;\n\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(O.a)(["\n  background: #fff;\n  margin-top: 40px;\n  border-radius: 5px;\n  padding: 64px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(O.a)(["\n  font-weight: 500;\n  font-size: 36px;\n  line-height: 54px;\n  color: #363f5f;\n  text-align: center;\n"]);return fe=function(){return e},e}function de(){var e=Object(O.a)(["\n  width: 100%;\n  max-width: 736px;\n  margin: 0 auto;\n  padding: 40px 20px;\n"]);return de=function(){return e},e}var be=y.c.div(de()),ge=y.c.h1(fe()),xe=y.c.section(pe()),Ee=y.c.section(me(),Object(D.a)(.2,"#ff872c")),he=t(46),ve=t.n(he),je=function(){var e=Object(a.useState)([]),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(i.f)();function l(){return(l=Object(p.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,t.length){e.next=3;break}return e.abrupt("return");case 3:return a=t[0],n.append("file",a.file,a.name),e.prev=5,e.next=8,j.post("/transactions/import",n);case 8:o.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0.response.error);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){localStorage.setItem("@GoFinances:import","true")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{size:"small"}),r.a.createElement(be,null,r.a.createElement(ge,null,"Importar uma transa\xe7\xe3o"),r.a.createElement(xe,null,r.a.createElement(se,{onUpload:function(e){var n=e.map((function(e){return{file:e,name:e.name,readableSize:Q()(e.size)}}));c(n)}}),!!t.length&&r.a.createElement($,{files:t}),r.a.createElement(Ee,null,r.a.createElement("p",null,r.a.createElement("img",{src:ve.a,alt:"Alert"}),"Permitido apenas arquivos CSV"),r.a.createElement("button",{onClick:function(){return l.apply(this,arguments)},type:"button"},"Enviar")))))},Oe=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:H}),r.a.createElement(i.a,{path:"/import",component:je}))};function ye(){var e=Object(O.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #F0F2F5 ;\n    -webkit-font-smoothing: antialiased\n  }\n\n  body, input, button {\n    font: 16px "Poppins", sans-serif;\n  }\n\n  button {\n    cursor: pointer;\n  }\n']);return ye=function(){return e},e}var we=Object(y.a)(ye()),ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null),r.a.createElement(l.a,null,r.a.createElement(Oe,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.235c8d8e.chunk.js.map